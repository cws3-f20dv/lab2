<!doctype html>
<html lang="en">
<head>
    <title>F20DV Lab 2</title>

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <script src='https://d3js.org/d3.v7.min.js'></script>
</head>

<body>
    <div class="container my-4">
        <a href="index.html" class="btn btn-outline-secondary float-end">Back to Index</a>

        <h1>F20DV Lab 2</h1>
        <h4 class="text-muted">Events</h4>
        <p class="lead">Calum Shepherd - H00292866</p>
        <hr />

        <h5>Exercise 3/4/5</h5>
        <!-- Exercise  3 -->
        <script>
            d3.select('body')
                .append('div')
                .style('width', '100px')
                .style('height', '20px')
                .style('background-color', 'green')
                .attr('class', 'highlight');

            d3.selectAll(".highlight")
            .on("mouseover", function(event){
                d3.select(this)
                .style("background-color", "orange")
                .style("border", "2px solid steelblue")
                .style("width", "150px")
                // Get current event info
                // Note: d3.event  (event) passed as the first argument to all listeners
                console.log(event);

                // Get x & y co-ordinates
                // Note: d3.mouse was removed in d3v6, you should use d3.pointer(event)
                console.log(d3.pointer(event));
            })
            .on("mouseout", function(){
                d3.select(this)
                    .style("background-color", "steelblue")
                    .style("border", "2px solid orange")
                    .style("width", "100px");
            });
        </script>

        <!-- Exercise 4/5 -->
        <script>
            const svg = d3.select("body")
                .append("svg")
                .attr('width',  200)
                .attr('height', 200)
                .append("g");

            svg.append("circle")
                .attr("cx", 100)
                .attr("cy", 100)
                .attr("r", 50)
                .style("fill", "red")
                .attr("class", "enlarge");

            let text = svg.append("text")
                .attr("dy", ".35em")
                .style("display", "none");

            d3.selectAll(".enlarge")
                .on("mouseover", function(event){
                    d3.select(this)
                    .attr("r", 100);
            });

            d3.selectAll(".enlarge")
                .on("mousemove", function(event){
                    let coords = d3.pointer(event);

                    text.attr("x", coords[0] + 10) // offset right to prevent overlap)
                        .attr("y", coords[1])
                        .style("display", "block") //unhide
                        .text(coords[0] + ", " + coords[1]);
                })
                .on("mouseout", function(){
                    d3.select(this)
                    .attr("r", 50);
                    text.style("display", "none");
            });
        </script>
        <hr />
    </div>
</body>
</html>
